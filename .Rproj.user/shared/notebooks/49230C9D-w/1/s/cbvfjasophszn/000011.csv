"0","# Baca data dari CSV"
"0","data_asli <- read.csv(""avg_temp_sulteng.csv"", header = TRUE, sep = "","")"
"0",""
"0","# Konversi kolom tanggal menjadi tipe Date"
"0","data_asli$date <- as.Date(data_asli$date, format = ""%d-%m-%Y"")"
"0",""
"0","# Mengembalikan pada skala aslinya"
"0","t <- numeric(length(data_asli$tavg))"
"0","for (i in 2:length(data_asli$tavg)){"
"0","  t[i] <- data_asli$tavg[i-1] + (data_asli$tavg[i-1] * prediksi[i-1] / 100)"
"0","}"
"0",""
"0","# Menghitung rata-rata perubahan terakhir"
"0","last_few_points <- tail(data_asli$tavg, 5)"
"0","average_change <- mean(diff(last_few_points), na.rm = TRUE)"
"0",""
"0","# Mengambil tanggal terakhir dari data asli"
"0","last_date <- max(data_asli$date)"
"0",""
"0","# Membuat vektor tanggal untuk prediksi 7 hari ke depan"
"0","prediksi_dates <- seq(from = last_date + 1, by = ""day"", length.out = 7)"
"0",""
"0","# Menghasilkan prediksi 7 hari ke depan berdasarkan rata-rata perubahan"
"0","prediksi_7_hari <- numeric(7)"
"0","for (i in 1:7) {"
"0","  if (i == 1) {"
"0","    prediksi_7_hari[i] <- last_few_points[length(last_few_points)] + average_change"
"0","  } else {"
"0","    prediksi_7_hari[i] <- prediksi_7_hari[i - 1] + average_change"
"0","  }"
"0","}"
"0","predicted_7_days <- prediksi_7_hari"
"0",""
"0","# Mengembalikan prediksi pada skala aslinya"
"0","predicted_t <- numeric(7)"
"0","predicted_t[1] <- t[length(t)] + (t[length(t)] * predicted_7_days[1] / 100)"
"0","for (i in 2:7) {"
"0","  predicted_t[i] <- predicted_t[i - 1] + (predicted_t[i - 1] * predicted_7_days[i] / 100)"
"0","}"
"0",""
"0",""
"0","# Append the predicted values to 't'"
"0","t <- c(t, predicted_7_days)"
"0",""
"0","# Ensure 'datapakai' and 't' have the same length after the prediction"
"0","datapakai <- c(data_asli$tavg[-1], rep(NA, 10))"
"0",""
"0",""
"0","# Ensure 'datapakai' and 't' have the same length"
"0","if (length(datapakai) < length(t)) {"
"0","  datapakai <- c(datapakai, rep(NA, length(t) - length(datapakai)))"
"0","} else if (length(datapakai) > length(t)) {"
"0","  t <- c(t, rep(NA, length(datapakai) - length(t)))"
"0","}"
"0",""
"0","# Creating the table with the new predictions"
"0","tabel_final <- data.frame(datapakai = datapakai, t = t)"
"0",""
"0","# Set the values to NA for the newly predicted periods in the final table"
"0","tabel_final$datapakai[(nrow(tabel_final)-6):nrow(tabel_final)] <- NA"
"0",""
"0","# Print the final table"
"0","tail(tabel_final, 20)"
